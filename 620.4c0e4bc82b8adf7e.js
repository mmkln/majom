"use strict";(self.webpackChunkplatform_frontend=self.webpackChunkplatform_frontend||[]).push([[620],{4620:(P,m,e)=>{e.r(m),e.d(m,{LoginModule:()=>L});var i=e(6504),l=e(1368),n=e(2531),r=e(4496),y=e(8016),w=e(3012),v=e(1040),k=e(4851);const b={required:"This field is required",password:"Password must be at least 5 characters long",minlength:"Password must be at least 5 characters long",loginFailed:"Username or password does not match"};var x=e(5084),C=e(9212),G=e(9144),R=e(9204),I=e(700);let g=(()=>{class t{constructor(a){this.fb=a}buildForm(){const a=this.getDefaultValue();return this.form=this.fb.group({username:this.fb.control(a.username,[i.AQ.required]),password:this.fb.control(a.password,[i.AQ.required,i.AQ.minLength(5)])})}getDefaultValue(){return{username:"",password:""}}static#r=this.\u0275fac=function(s){return new(s||t)(r.CoB(i.WW))};static#t=this.\u0275prov=r.wxM({token:t,factory:t.\u0275fac})}return t})();var E=e(9768),f=e(4080),h=e(776),p=e(2064);const u=()=>[],V=(t,d)=>({hidden:t,block:d}),D=(t,d)=>({block:t,hidden:d}),S=[{path:"",component:(()=>{class t{constructor(a,s,o,c,M,X,O){this.authService=a,this.authTokenService=s,this.router=o,this.injector=c,this.dialogService=M,this.formService=X,this.pageTitleService=O,this.showPassword=!1,this.form=this.formService.buildForm()}ngOnInit(){this.pageTitleService.setPageTitle("Login")}togglePasswordVisibility(){this.showPassword=!this.showPassword}showDialog(){this.dialogService.open(new v.WO(k.K,this.injector),{closeable:!1,dismissible:!1,size:"auto"}).subscribe()}onSubmit(){const{username:a,password:s}=this.form.getRawValue();!a||!s||this.authService.login(a,s).pipe((0,x.K)(),(0,C.y)(o=>{this.authTokenService.setTokens(o),this.router.navigate(["/kanban"])}),(0,G.a)(o=>(this.form.setErrors({loginFailed:!0}),o))).subscribe()}static#r=this.\u0275fac=function(s){return new(s||t)(r.GI1(R.o),r.GI1(I.C),r.GI1(n.E5),r.GI1(r.zZn),r.GI1(y._k),r.GI1(g),r.GI1(E.M$))};static#t=this.\u0275cmp=r.In1({type:t,selectors:[["xx-login"]],features:[r.M5G([{provide:w.Mn,useValue:{...b}}])],decls:46,vars:51,consts:[[1,"h-full","w-full","px-6","py-8"],[1,"text-center","mb-6"],[1,"flex","items-center","justify-center","text-2xl","font-semibold","text-gray-900","dark:text-gray-400"],[1,"max-w-md","mx-auto"],[1,"space-y-4",3,"formGroup"],["for","username",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-gray-500"],["type","text","name","username","id","username","formControlName","username","placeholder","username","required","",1,"w-full","px-4","py-2","text-gray-900","text-lg","rounded-lg","border","border-gray-300","focus:ring-primary-600","focus:border-primary-600","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","dark:focus:ring-primary-300","dark:focus:border-primary-300"],["formControlName","username",3,"error"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-gray-500"],[1,"relative"],["formControlName","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"w-full","px-4","py-2","text-gray-900","text-lg","rounded-lg","border","border-gray-300","focus:ring-primary-600","focus:border-primary-600","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","dark:focus:ring-primary-300","dark:focus:border-primary-300",3,"type"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-sm","leading-5",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6",3,"ngClass"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],["stroke-linecap","round","stroke-linejoin","round","d","M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"],["formControlName","password",3,"error"],[3,"formGroup","error"],[1,"flex"],["routerLink","/forgot-password",1,"text-sm","text-primary-600","hover:underline"],["type","submit",1,"w-full","px-4","py-2","mt-4","text-lg","font-medium","text-white","bg-primary-600","hover:bg-primary-700","rounded-lg","focus:outline-none","focus:ring-primary-300",3,"disabled","click"],[1,"mt-6","text-sm","text-center","text-gray-500"],["routerLink","/signup",1,"text-primary-600","hover:underline"]],template:function(s,o){1&s&&(r.I0R(0,"section",0)(1,"div",1)(2,"div",2),r.OEk(3),r.wVc(4,"translate"),r.C$Y()(),r.I0R(5,"div",3)(6,"form",4)(7,"div")(8,"label",5),r.OEk(9),r.wVc(10,"translate"),r.C$Y(),r.wR5(11,"input",6)(12,"tui-error",7),r.wVc(13,"async"),r.wVc(14,"tuiFieldError"),r.C$Y(),r.I0R(15,"div")(16,"label",8),r.OEk(17),r.wVc(18,"translate"),r.C$Y(),r.I0R(19,"div",9),r.wR5(20,"input",10),r.I0R(21,"button",11),r.qCj("click",function(){return o.togglePasswordVisibility()}),r.S2Z(),r.I0R(22,"svg",12),r.wR5(23,"path",13)(24,"path",14),r.C$Y(),r.I0R(25,"svg",12),r.wR5(26,"path",15),r.C$Y()()(),r.gRP(),r.wR5(27,"tui-error",16),r.wVc(28,"async"),r.wVc(29,"tuiFieldError"),r.wR5(30,"tui-error",17),r.wVc(31,"async"),r.wVc(32,"tuiFieldError"),r.C$Y(),r.I0R(33,"div",18)(34,"a",19),r.OEk(35),r.wVc(36,"translate"),r.C$Y()(),r.I0R(37,"button",20),r.qCj("click",function(){return o.onSubmit()}),r.OEk(38),r.wVc(39,"translate"),r.C$Y(),r.I0R(40,"p",21),r.OEk(41),r.wVc(42,"translate"),r.I0R(43,"a",22),r.OEk(44),r.wVc(45,"translate"),r.C$Y()()()()()),2&s&&(r.yG2(3),r.oRS(" ",r.kDX(4,16,"welcome")," "),r.yG2(3),r.E7m("formGroup",o.form),r.yG2(3),r.cNF(r.kDX(10,18,"username")),r.yG2(3),r.E7m("error",r.kDX(13,20,r.kDX(14,22,r.q4q(42,u)))),r.yG2(5),r.oRS(" ",r.kDX(18,24,"password")," "),r.yG2(3),r.E7m("type",o.showPassword?"text":"password"),r.yG2(2),r.E7m("ngClass",r.IBC(43,V,o.showPassword,!o.showPassword)),r.yG2(3),r.E7m("ngClass",r.IBC(46,D,o.showPassword,!o.showPassword)),r.yG2(2),r.E7m("error",r.kDX(28,26,r.kDX(29,28,r.q4q(49,u)))),r.yG2(3),r.E7m("formGroup",o.form)("error",r.kDX(31,30,r.kDX(32,32,r.q4q(50,u)))),r.yG2(5),r.cNF(r.kDX(36,34,"forgot password")),r.yG2(2),r.E7m("disabled",!o.form.valid),r.yG2(),r.oRS(" ",r.kDX(39,36,"login")," "),r.yG2(3),r.oRS(" ",r.kDX(42,38,"dont have an account")," "),r.yG2(3),r.cNF(r.kDX(45,40,"signup here")))},dependencies:[l.QF,n.ER,i.sz,i.ot,i.ue,i.u,i.eJ,i.uW,i.Wo,f.a,l.a,h.Mr,p.sD],styles:["xx-login{width:100%}\n"],encapsulation:2})}return t})()}];let F=(()=>{class t{static#r=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=r.a4G({type:t});static#e=this.\u0275inj=r.s3X({imports:[n.qQ.forChild(S),n.qQ]})}return t})(),L=(()=>{class t{static#r=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=r.a4G({type:t});static#e=this.\u0275inj=r.s3X({providers:[g],imports:[l.MD,F,i.y,i.sl,f.Y,h.uY,p.O0]})}return t})()}}]);