"use strict";(self.webpackChunkplatform_frontend=self.webpackChunkplatform_frontend||[]).push([[592],{9592:(P,c,i)=>{i.r(c),i.d(c,{SettingsModule:()=>F});var d=i(1368),o=i(6504),g=i(5188),m=i(6052),M=i(1152),h=i(4336),p=i(5488),w=i(2716),L=i(2604),f=i(2531),t=i(4496),v=i(3480),O=i(9876),T=i(964),E=i(2088),C=i(3616),y=i(9212),S=i(5084),I=i(7512),R=i(7936);function U(e,r){if(1&e&&t.wR5(0,"tui-data-list-wrapper",10),2&e){const a=t.GaO(),n=t.Gew(11);t.E7m("items",a.languageList)("itemContent",n)}}function $(e,r){if(1&e&&(t.I0R(0,"div",11)(1,"span",12),t.OEk(2),t.C$Y()()),2&e){const a=r.$implicit;t.yG2(2),t.cNF(a.label)}}function x(e,r){if(1&e&&t.wR5(0,"tui-data-list-wrapper",10),2&e){const a=t.GaO(),n=t.Gew(22);t.E7m("items",a.wallpaperService.wallpaperList)("itemContent",n)}}const G=e=>({"background-image":e});function Y(e,r){if(1&e&&(t.I0R(0,"div",11),t.wR5(1,"div",13),t.C$Y()),2&e){const a=r.$implicit;t.yG2(),t.E7m("ngStyle",t.S45(1,G,"url("+a.image_file+")"))}}const W=[{path:"",component:(()=>{class e{constructor(){this.pageTitleService=(0,t.uUt)(O.M),this.language=null,this.wallpaper=null,this.languageList=[{value:"ua",label:"Ukrainian"},{value:"en",label:"English"}],this.languageService=(0,t.uUt)(T.o),this.userApiService=(0,t.uUt)(E.s),this.destroy$=(0,t.uUt)(v.UF),this.wallpaperService=(0,t.uUt)(I.I),this.defaultLanguage$=this.languageService.language$,this.stringifyLanguage=a=>a.label,this.languageIdentityMatcher=(a,n)=>a.value===n.value,this.stringifyWallpaper=a=>a.image_file,this.wallpaperIdentityMatcher=(a,n)=>a.id===n.id}ngOnInit(){this.pageTitleService.setPageTitle("Settings"),this.languageService.language$.pipe((0,C.a)(this.destroy$),(0,y.y)(a=>{this.setDefaultLanguage(a)})).subscribe(),this.wallpaperService.wallpaper$.pipe((0,C.a)(this.destroy$),(0,y.y)(a=>{this.wallpaper=a})).subscribe()}setDefaultLanguage(a){this.language=this.languageList.find(n=>n.value===a)||null}onLanguageChanged(a){this.userApiService.setUserProfileLanguage(a.value).pipe((0,S.K)()).subscribe(),this.languageService.setDefaultLanguage(a.value)}onWallpaperChanged(a){this.userApiService.setUserProfileWallpaper(a.id).pipe((0,S.K)()).subscribe(),this.wallpaperService.setDefaultWallpaper(a)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["xx-settings"]],features:[t.M5G([v.UF])],decls:23,vars:8,consts:[[1,"rounded-2xl","bg-white","dark:bg-slate-900","text-gray-600","dark:text-gray-400"],[1,"p-6"],[1,"text-lg","font-semibold"],[1,""],["tuiTextfieldSize","m",1,"mt-2",3,"ngModel","tuiTextfieldLabelOutside","stringify","identityMatcher","ngModelChange"],["placeholder","Choose platform language","tuiTextfield",""],[3,"items","itemContent",4,"tuiDataList"],["languageContent",""],["placeholder","Choose platform wallpaper","tuiTextfield",""],["wallpaperContent",""],[3,"items","itemContent"],[1,"flex","gap-2","items-center"],[1,"capitalize"],[1,"w-32","h-20","inset-0","bg-cover","bg-center","rounded",3,"ngStyle"]],template:function(n,l){1&n&&(t.I0R(0,"div",0)(1,"div",1)(2,"h3",2),t.OEk(3,"Language"),t.C$Y(),t.I0R(4,"span",3),t.OEk(5," Choose the language used to display menus, messages, and notifications from Majom. "),t.C$Y(),t.I0R(6,"tui-select",4),t.iHE("ngModelChange",function(s){return t.kNx(l.language,s)||(l.language=s),s}),t.qCj("ngModelChange",function(s){return l.onLanguageChanged(s)}),t.OEk(7," Language "),t.wR5(8,"input",5),t.yuY(9,U,1,2,"tui-data-list-wrapper",6)(10,$,3,1,"ng-template",null,7,t.gJz),t.C$Y()(),t.I0R(12,"div",1)(13,"h3",2),t.OEk(14,"Wallpaper"),t.C$Y(),t.I0R(15,"span",3),t.OEk(16," Choose the wallpaper used to display on Majom. "),t.C$Y(),t.I0R(17,"tui-select",4),t.iHE("ngModelChange",function(s){return t.kNx(l.wallpaper,s)||(l.wallpaper=s),s}),t.qCj("ngModelChange",function(s){return l.onWallpaperChanged(s)}),t.OEk(18," Wallpaper "),t.wR5(19,"input",8),t.yuY(20,x,1,2,"tui-data-list-wrapper",6)(21,Y,2,3,"ng-template",null,9,t.gJz),t.C$Y()()()),2&n&&(t.yG2(6),t.OKB("ngModel",l.language),t.E7m("tuiTextfieldLabelOutside",!0)("stringify",l.stringifyLanguage)("identityMatcher",l.languageIdentityMatcher),t.yG2(11),t.OKB("ngModel",l.wallpaper),t.E7m("tuiTextfieldLabelOutside",!0)("stringify",l.stringifyWallpaper)("identityMatcher",l.wallpaperIdentityMatcher))},dependencies:[d.Qt,g.cP,g.uO,R.b,o.ue,o._G,h.Ux,p.E9,p.rD,m.OO]})}return e})()},{path:"user-profile",component:(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["xx-user-profile"]],decls:2,vars:0,template:function(n,l){1&n&&(t.I0R(0,"p"),t.OEk(1,"user-profile works!"),t.C$Y())}})}return e})()}];let D=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.a4G({type:e});static#a=this.\u0275inj=t.s3X({imports:[f.qQ.forChild(W),f.qQ]})}return e})(),F=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.a4G({type:e});static#a=this.\u0275inj=t.s3X({providers:[w.s],imports:[d.MD,D,g.my,o.y,M.M9,h.A$,p.aS,m.q8,L.e]})}return e})()}}]);