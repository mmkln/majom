"use strict";(self.webpackChunkplatform_frontend=self.webpackChunkplatform_frontend||[]).push([[880],{1260:(O,l,e)=>{e.r(l),e.d(l,{SignupModule:()=>G});var m=e(1368),i=e(6504),n=e(2531),r=e(4496),g=e(5084),y=e(9212),h=e(3012);const w={required:"This field is required",email:"Email is not valid",password:"Password must be at least 8 characters long",passwordsNotMatching:"Passwords do not match",minlength:"Password must be at least 8 characters long"};var b=e(1040),v=e(4851),x=e(8016);function k(t,P){return o=>{const a=o.get(t)?.value,s=o.get(P)?.value;return a&&s&&a!==s?{passwordsNotMatching:!0}:null}}let c=(()=>{class t{constructor(o){this.fb=o}buildForm(){const o=this.getDefaultValue();return this.form=this.fb.group({email:this.fb.control(o.email,[i.AQ.required,i.AQ.email]),password:this.fb.control(o.password,[i.AQ.required,i.AQ.minLength(8)]),confirmPassword:this.fb.control(o.confirmPassword,[i.AQ.required])},{validators:[k("password","confirmPassword")]})}getDefaultValue(){return{email:"",password:"",confirmPassword:""}}static#r=this.\u0275fac=function(a){return new(a||t)(r.CoB(i.WW))};static#t=this.\u0275prov=r.wxM({token:t,factory:t.\u0275fac})}return t})();var C=e(9204),E=e(700),I=e(9876),f=e(4080),p=e(776);const d=()=>[],R=[{path:"",component:(()=>{class t{constructor(o,a,s,u,V,D,M){this.formService=o,this.authService=a,this.authTokenService=s,this.router=u,this.injector=V,this.dialogService=D,this.pageTitleService=M,this.form=this.formService.buildForm()}ngOnInit(){this.pageTitleService.setPageTitle("Sign up")}onSubmit(){const{email:o,password:a,...s}=this.form.getRawValue();this.authService.signup(o,a).pipe((0,g.K)(),(0,y.y)(u=>{this.authTokenService.setTokens(u),this.router.navigate(["/stats"]),this.showDialog()})).subscribe()}showDialog(){this.dialogService.open(new b.WO(v.K,this.injector),{closeable:!1,dismissible:!1,size:"auto"}).subscribe()}static#r=this.\u0275fac=function(a){return new(a||t)(r.GI1(c),r.GI1(C.o),r.GI1(E.C),r.GI1(n.E5),r.GI1(r.zZn),r.GI1(x._k),r.GI1(I.M))};static#t=this.\u0275cmp=r.In1({type:t,selectors:[["xx-signup"]],features:[r.M5G([{provide:h.Mn,useValue:{...w}}])],decls:42,vars:27,consts:[[1,"h-full","w-full","px-6","py-8"],[1,"text-center","mb-6"],[1,"flex","items-center","justify-center","text-2xl","font-semibold","text-gray-900","dark:text-gray-400"],[1,"max-w-md","mx-auto"],[1,"space-y-4",3,"formGroup"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-gray-500"],["type","email","name","email","id","email","placeholder","name@company.com","formControlName","email","required","",1,"w-full","px-4","py-2","text-gray-900","text-lg","rounded-lg","border","border-gray-300","focus:ring-primary-600","focus:border-primary-600","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","dark:focus:ring-primary-300","dark:focus:border-primary-300"],["formControlName","email",3,"error"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-gray-500"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password","required","",1,"w-full","px-4","py-2","text-gray-900","text-lg","rounded-lg","border","border-gray-300","focus:ring-primary-600","focus:border-primary-600","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","dark:focus:ring-primary-300","dark:focus:border-primary-300"],["formControlName","password",3,"error"],["for","confirm-password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-gray-500"],["type","password","name","confirm-password","id","confirm-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","confirmPassword","required","",1,"w-full","px-4","py-2","text-gray-900","text-lg","rounded-lg","border","border-gray-300","focus:ring-primary-600","focus:border-primary-600","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","dark:focus:ring-primary-300","dark:focus:border-primary-300"],[3,"formGroup","error"],["formControlName","confirmPassword",3,"error"],[1,"flex","items-start","mb-4"],["id","terms","type","checkbox","required","",1,"w-4","h-4","text-primary-600","border-gray-300","rounded","focus:ring-primary-300"],["for","terms",1,"ml-2","text-sm","text-gray-500"],["routerLink","/terms",1,"text-primary-600","hover:underline"],["type","submit",1,"w-full","px-4","py-3","text-lg","font-medium","text-white","bg-primary-600","hover:bg-primary-700","rounded-lg","focus:outline-none","focus:ring-primary-300","disabled:bg-gray-300","dark:disabled:bg-gray-500","disabled:text-gray-500","dark:disabled:text-gray-300","disabled:cursor-not-allowed",3,"disabled","click"],[1,"mt-6","text-sm","text-center","text-gray-500"],["routerLink","/login",1,"text-primary-600","hover:underline"]],template:function(a,s){1&a&&(r.I0R(0,"section",0)(1,"div",1)(2,"div",2),r.OEk(3," Welcome to the Majom Platform "),r.C$Y()(),r.I0R(4,"div",3)(5,"form",4)(6,"div")(7,"label",5),r.OEk(8,"Your email"),r.C$Y(),r.wR5(9,"input",6)(10,"tui-error",7),r.wVc(11,"async"),r.wVc(12,"tuiFieldError"),r.C$Y(),r.I0R(13,"div")(14,"label",8),r.OEk(15,"Password"),r.C$Y(),r.wR5(16,"input",9)(17,"tui-error",10),r.wVc(18,"async"),r.wVc(19,"tuiFieldError"),r.C$Y(),r.I0R(20,"div")(21,"label",11),r.OEk(22,"Confirm Password"),r.C$Y(),r.wR5(23,"input",12)(24,"tui-error",13),r.wVc(25,"async"),r.wVc(26,"tuiFieldError"),r.wR5(27,"tui-error",14),r.wVc(28,"async"),r.wVc(29,"tuiFieldError"),r.C$Y(),r.I0R(30,"div",15),r.wR5(31,"input",16),r.I0R(32,"label",17),r.OEk(33," I accept the "),r.I0R(34,"a",18),r.OEk(35,"Terms and Conditions"),r.C$Y()()(),r.I0R(36,"button",19),r.qCj("click",function(){return s.onSubmit()}),r.OEk(37," Create an account "),r.C$Y(),r.I0R(38,"p",20),r.OEk(39," Already have an account? "),r.I0R(40,"a",21),r.OEk(41,"Login here"),r.C$Y()()()()()),2&a&&(r.yG2(5),r.E7m("formGroup",s.form),r.yG2(5),r.E7m("error",r.kDX(11,7,r.kDX(12,9,r.q4q(23,d)))),r.yG2(7),r.E7m("error",r.kDX(18,11,r.kDX(19,13,r.q4q(24,d)))),r.yG2(7),r.E7m("formGroup",s.form)("error",r.kDX(25,15,r.kDX(26,17,r.q4q(25,d)))),r.yG2(3),r.E7m("error",r.kDX(28,19,r.kDX(29,21,r.q4q(26,d)))),r.yG2(9),r.E7m("disabled",!s.form.valid))},dependencies:[n.ER,i.sz,i.ot,i.ue,i.u,i.eJ,i.uW,i.Wo,f.a,m.a,p.Mr],styles:["xx-signup{width:100%}\n"],encapsulation:2})}return t})()}];let S=(()=>{class t{static#r=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275mod=r.a4G({type:t});static#e=this.\u0275inj=r.s3X({imports:[n.qQ.forChild(R),n.qQ]})}return t})(),G=(()=>{class t{static#r=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275mod=r.a4G({type:t});static#e=this.\u0275inj=r.s3X({providers:[c],imports:[m.MD,S,i.y,i.sl,f.Y,p.uY]})}return t})()}}]);